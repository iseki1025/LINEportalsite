<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>透析情報ポータル | シャント管理</title>
    <!-- 共通のCSSファイルを読み込み -->
    <link rel="stylesheet" href="style.css">
    <style>
        /* クイズセクション用のスタイル */
        .quiz-section {
            text-align: center;
            padding: 40px 20px;
            /* 栄養クイズタブのデザインに合わせる */
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); /* 栄養クイズと同じ */
            border-radius: 15px; /* 栄養クイズと同じ */
            margin: 20px 0;
            border: 1px solid #ddd; /* 栄養クイズと同じ */
            box-shadow: 0 4px 8px rgba(0,0,0,0.05); /* 栄養クイズと同じ */
        }

        .quiz-section h2 {
            /* 栄養クイズタブのh2の色に合わせる */
            color: #ff6b9d; 
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        .quiz-section p {
            color: #555;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .quiz-button {
            display: inline-block;
            padding: 18px 40px;
            /* 栄養クイズタブのボタンの色とグラデーションに合わせる */
            background: linear-gradient(135deg, #ff6b9d 0%, #c71585 100%);
            color: white;
            text-decoration: none;
            /* ここを修正：栄養ページのボタンのborder-radiusに合わせる */
            border-radius: 6px; 
            font-size: 1.2em;
            font-weight: bold;
            transition: all 0.3s ease;
            /* 栄養クイズタブのボタンの影の色と強さに合わせる */
            box-shadow: 0 4px 15px rgba(255, 107, 157, 0.4);
        }

        .quiz-button:hover {
            transform: translateY(-3px);
            /* 栄養クイズタブのボタンのホバー時の影の色と強さに合わせる */
            box-shadow: 0 6px 20px rgba(255, 107, 157, 0.6);
        }

        /* よく検索されるワードのスタイル */
        .qa-popular-keywords {
            background-color: #f8f8f8;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
            text-align: center;
        }

        .qa-popular-keywords h3 {
            color: #4a4a4a;
            font-size: 1.2em;
            margin-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
            display: inline-block; /* h3の幅をコンテンツに合わせる */
        }

        .keyword-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }

        .keyword-button {
            background-color: #667eea; /* シャントテーマの色に合わせる */
            color: white;
            border: none;
            border-radius: 20px;
            padding: 8px 18px;
            font-size: 0.9em;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .keyword-button:hover {
            background-color: #556be4;
            transform: translateY(-2px);
        }
    </style>
</head>
<!-- bodyタグにはシャント管理テーマのクラスを指定 -->
<body class="theme-shunt">
    <div class="container">
        <header>
            <h1>シャント管理について</h1>
        </header>

        <!-- タブナビゲーション -->
        <nav class="page-nav">
            <a href="#" class="nav-button active" data-target="info">シャント管理の基本</a>
            <a href="#" class="nav-button" data-target="quiz">シャントクイズ</a>
            <a href="#" class="nav-button" data-target="qa">シャントQ&A</a>
        </nav>

        <main id="content-area">
            <!-- ① シャント管理の基本 の内容 -->
            <section id="info" class="content-section active">
                <h2>シャントは透析治療の「命綱」です</h2>
                <p>
                    バスキュラーアクセス（シャント）は、透析治療のために血液を効率よく体外に取り出し、きれいにして体内に戻すための大切な出入り口です。シャントを長持ちさせるためには、日頃の自己管理が非常に重要になります。
                </p>
                
                <h3>毎日行いましょう：見て・聴いて・触って 確認</h3>
                <ul>
                    <li><strong>見る（視診）</strong><br>
                        シャント肢に「赤み」「腫れ」「傷」「出血」などがないか、目で見て確認します。感染の兆候を見逃さないようにしましょう。</li>
                    <li><strong>聴く（聴診）</strong><br>
                        シャント血管に耳を近づけるか、聴診器を当てて、「ザーザー」「ゴーゴー」という連続した血流の音（シャント音）が聴こえるか確認します。音が弱くなったり、途切れたりする場合は注意が必要です。</li>
                    <li><strong>触る（触診）</strong><br>
                        シャント血管の上を指で軽く触れて、血流による細かな振動（スリル）を感じられるか確認します。スリルが普段より弱い、または感じられない場合は閉塞のサインかもしれません。</li>
                </ul>

                <h3>日常生活で気をつけること</h3>
                <ul>
                    <li>シャント側の腕で重いものを持たないようにしましょう。</li>
                    <li>シャント側の腕で血圧を測ったり、採血をしたり、腕時計をしたりしないようにしましょう。</li>
                    <li>寝るときにシャント側の腕を体の下にしないように注意しましょう。</li>
                    <li>シャント部分は清潔に保ち、掻いたりしないようにしてください。</li>
                </ul>

                <h3>こんな時はすぐに連絡を！</h3>
                <p>
                    シャントの音が聞こえない、スリルを感じない、シャント肢が赤く腫れて痛む、出血が止まらないなど、普段と違う様子に気づいた場合は、自己判断せず、すぐに当院のスタッフへご連絡ください。
                </p>
            </section>
            
            <!-- ② シャントクイズ の内容 -->
            <section id="quiz" class="content-section">
                <div class="quiz-section">
                    <h2>挑戦してみよう！シャント管理クイズ</h2>
                    <p>日頃のシャント管理に役立つ知識が、ゲーム感覚で楽しく身につきます。<br>あなたのシャント管理知識レベルをチェックしてみませんか？</p>
                    <a href="shunt-quiz.html" class="quiz-button">クイズに挑戦する！</a>
                    <p style="margin-top: 15px; font-size: 0.9em; color: #666;">10問の中からランダムに5問出題されます。何度でもチャレンジできます！</p>
                </div>
            </section>
            
            <!-- ③ シャントQ&A の内容 -->
            <section id="qa" class="content-section qa-search-section" data-csv-path="files/qa-data.csv" data-category="シャント">
                <h2>シャント管理についての よくあるご質問 (Q&A)</h2>
                <div class="qa-search-container">
                    <input type="search" class="qa-search-input" placeholder="キーワードを入力 (例: 痛み, 閉塞)" autocomplete="off">
                </div>

                <!-- ここに「よく検索されるワード」を追加 -->
                <div class="qa-popular-keywords">
                    <h3>よく検索されるワード</h3>
                    <div class="keyword-buttons">
                        <button class="keyword-button" data-keyword="痛み">痛み</button>
                        <button class="keyword-button" data-keyword="閉塞">閉塞</button>
                        <button class="keyword-button" data-keyword="感染">感染</button>
                        <button class="keyword-button" data-keyword="音">音</button>
                        <button class="keyword-button" data-keyword="出血">出血</button>
                    </div>
                </div>

                <div class="qa-results-container">
                    <!-- 検索結果はここに表示されます -->
                </div>
            </section>

        </main>
        
        <a href="index.html" class="back-to-portal-button">総合情報ポータルへ戻る</a>
        <footer>
            <p><small>&copy; 2025 医療法人 好輝会 梶本クリニック</small></p>
        </footer>
    </div>
    
    <!-- 共通の切り替え用JavaScriptとQ&A用スクリプトを読み込む -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script src="tab-script.js"></script>
    <script src="qa-loader.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ... 既存のJavaScriptコード ...

            // よく検索されるワードボタンの機能
            document.querySelectorAll('.qa-popular-keywords .keyword-button').forEach(button => {
                button.addEventListener('click', function() {
                    const keyword = this.getAttribute('data-keyword');
                    const searchInput = this.closest('.content-section').querySelector('.qa-search-input');
                    if (searchInput) {
                        searchInput.value = keyword;
                        // qa-loader.js の検索関数を呼び出す（例: searchQA関数を想定）
                        // qa-loader.jsのsearchQA関数がイベントリスナーで動くように設定されている場合、
                        // input.value = keyword の後に inputイベントをdispatchすると自動で検索が走る
                        searchInput.dispatchEvent(new Event('input', { bubbles: true }));
                    }
                });
            });
        });
    </script>
</body>
</html>