<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Ç∑„É£„É≥„ÉàÁÆ°ÁêÜ„ÇØ„Ç§„Ç∫</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Sans', '„É°„Ç§„É™„Ç™', Meiryo, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
            padding: 40px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            color: #667eea;
            font-size: 28px;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 14px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .question-container {
            margin-bottom: 30px;
        }

        .question-number {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .question-text {
            font-size: 20px;
            color: #333;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            padding: 18px 25px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            background: white;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .option.correct {
            border-color: #4caf50;
            background: #4caf50;
            color: white;
        }

        .option.incorrect {
            border-color: #f44336;
            background: #f44336;
            color: white;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .explanation {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9ff;
            border-left: 4px solid #667eea;
            border-radius: 8px;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .explanation-title {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .explanation-text {
            color: #555;
            line-height: 1.6;
        }

        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 30px;
        }

        .next-button, .restart-button {
            padding: 15px 40px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .next-button:hover, .restart-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .next-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .result-container {
            text-align: center;
            display: none;
        }

        .result-container.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .score {
            font-size: 72px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea, #764ba2);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 20px 0;
        }

        .result-message {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
        }

        .result-detail {
            font-size: 18px;
            color: #666;
            margin-bottom: 30px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .emoji {
            font-size: 60px;
            margin-bottom: 20px;
        }
        
        .back-to-main-button {
            display: block;
            width: fit-content;
            margin: 40px auto 0;
            padding: 12px 25px;
            background: transparent;
            color: #777;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 14px;
            font-weight: bold;
            text-decoration: none;
            text-align: center;
            transition: all 0.3s ease;
        }

        .back-to-main-button:hover {
            background: #f8f9ff;
            color: #667eea;
            border-color: #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üíâ „Ç∑„É£„É≥„ÉàÁÆ°ÁêÜ„ÇØ„Ç§„Ç∫</h1>
            <p class="subtitle">10Âïè„ÅÆ‰∏≠„Åã„Çâ„É©„É≥„ÉÄ„É†„Å´5ÂïèÂá∫È°å - Ê≠£„Åó„ÅÑÁü•Ë≠ò„ÇíÊ•Ω„Åó„ÅèÂ≠¶„Å≥„Åæ„Åó„Çá„ÅÜ!</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div id="quizContainer" class="question-container">
            <!-- Questions will be inserted here -->
        </div>

        <div id="resultContainer" class="result-container">
            <!-- Results will be shown here -->
        </div>

        <div class="button-container">
            <button id="nextButton" class="next-button" style="display: none;">Ê¨°„ÅÆÂïèÈ°å„Å∏</button>
        </div>
        
        <a href="shunt-management.html" class="back-to-main-button">„Ç∑„É£„É≥„ÉàÁÆ°ÁêÜ„Éö„Éº„Ç∏„Å∏Êàª„Çã</a>

    </div>

    <script>
        const quizData = [
            {
                question: "„Ç∑„É£„É≥„Éà„Å´ÊúÄ„ÇÇÈÅ©„Åó„ÅüË¶≥ÂØüÊñπÊ≥ï„ÅØ„Å©„ÇåÔºü",
                options: ["Êåá„ÅßËß¶„Å£„Å¶ÈºìÂãï(„Çπ„É™„É´)„ÇíÁ¢∫Ë™ç„Åô„Çã", "ÁõÆ„ÅßË¶ã„Çã„Å†„Åë", "ÊØéÊó•Êäº„Åï„Åà„Å¶Ê≠¢„ÇÅ„Çã"],
                correct: 0,
                explanation: "ÊØéÊó•„Çπ„É™„É´(ËÑà„Åà)„ÇíËß¶„Çå„Å¶Á¢∫Ë™ç„Åô„Çã„Åì„Å®„ÅåÈáçË¶Å„Åß„Åô„ÄÇ„Çπ„É™„É´„ÅåÊÑü„Åò„Çâ„Çå„Çã„Åì„Å®„Åß„ÄÅ„Ç∑„É£„É≥„Éà„ÅåÊ≠£Â∏∏„Å´Ê©üËÉΩ„Åó„Å¶„ÅÑ„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç„Åß„Åç„Åæ„Åô„ÄÇ"
            },
            {
                question: "„Ç∑„É£„É≥„ÉàÂÅ¥„ÅÆËÖï„Åß„Äå„ÇÑ„Å£„Å¶„ÅØ„ÅÑ„Åë„Å™„ÅÑ„Åì„Å®„Äç„ÅØ„Å©„ÇåÔºü",
                options: ["Ë°ÄÂúßÊ∏¨ÂÆö", "Ë≤∑„ÅÑÁâ©Ë¢ã„ÇíËªΩ„ÅèÊåÅ„Å§", "Êâã„ÇíÊ¥ó„ÅÜ"],
                correct: 0,
                explanation: "Ë°ÄÂúßÊ∏¨ÂÆö„ÇÑÊé°Ë°Ä„ÅØÂúßËø´„Å®„Å™„ÇäÈñâÂ°û„É™„Çπ„ÇØ„Å´„Å™„Çä„Åæ„Åô„ÄÇ„Ç∑„É£„É≥„ÉàÂÅ¥„ÅÆËÖï„Åß„ÅÆË°ÄÂúßÊ∏¨ÂÆö„ÇÑÊé°Ë°Ä„ÄÅÊ≥®Â∞Ñ„ÅØÈÅø„Åë„Åæ„Åó„Çá„ÅÜ„ÄÇ"
            },
            {
                question: "„Ç∑„É£„É≥„Éà„ÅÆÈñâÂ°û„ÅåÁñë„Çè„Çå„ÇãÁóáÁä∂„ÅØÔºü",
                options: ["„Çπ„É™„É´„ÅåËß¶„Çå„Å™„ÅÑ", "Â∞ë„Åó„Åã„ÇÜ„ÅÑ", "ÂÜ∑„Åü„Åè„Å™„ÅÑ"],
                correct: 0,
                explanation: "„Çπ„É™„É´„ÅåÊÄ•„Å´Ëß¶„Çå„Å™„Åè„Å™„Çã„ÅÆ„ÅØÁ∑äÊÄ•ÊÄß„ÅÆÈ´ò„ÅÑ„Çµ„Ç§„É≥„Åß„Åô„ÄÇ„Åô„Åê„Å´ÂåªÁôÇÊ©üÈñ¢„Å´ÈÄ£Áµ°„Åó„Å¶ÂØæÂøú„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ"
            },
            {
                question: "„Ç∑„É£„É≥„ÉàÊÑüÊüì„ÇíÁñë„ÅÜ„Çµ„Ç§„É≥„ÅØÔºü",
                options: ["Áô∫Ëµ§„ÉªÁÜ±ÊÑü„ÉªÁóõ„Åø", "ÁöÆËÜö„Åå‰πæÁá•„Åó„Å¶„ÅÑ„Çã", "Â∞ë„Åó„ÇÄ„Åè„Çì„Åß„ÅÑ„Çã„Å†„Åë"],
                correct: 0,
                explanation: "Ëµ§„Åø„ÉªËÖ´„Çå„ÉªÁóõ„Åø„ÉªÁô∫ÁÜ±„ÅØÊÑüÊüì„ÅÆÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åì„Çå„Çâ„ÅÆÁóáÁä∂„ÅåÁèæ„Çå„Åü„Çâ„ÄÅ„Åô„Åê„Å´ÂåªÁôÇ„Çπ„Çø„ÉÉ„Éï„Å´Áõ∏Ë´á„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ"
            },
            {
                question: "ÈÄèÊûêÂæå„ÅÆÊ≠¢Ë°ÄÊñπÊ≥ï„Å®„Åó„Å¶Ê≠£„Åó„ÅÑ„ÅÆ„ÅØÔºü",
                options: ["ÈÅ©Â∫¶„Å™Âúß„ÅßÊäº„Åï„Åà„Çã", "Âº∑„ÅèÊäº„Åô", "„ÉÜ„Éº„Éó„Å†„ÅëË≤º„Çã"],
                correct: 0,
                explanation: "ÈÅéÂ∫¶„ÅÆÂúßËø´„ÅØË°ÄÁÆ°„Çí„Å§„Å∂„Åô„Åü„ÇÅ„ÄÅÈÅ©Â∫¶„Å™Âúß„ÅßÊ≠¢Ë°Ä„Åó„Åæ„Åô„ÄÇÂº∑„ÅèÊäº„Åó„Åô„Åé„Çã„Å®„Ç∑„É£„É≥„Éà„ÅÆË°ÄÊµÅ„ÅåÊÇ™„Åè„Å™„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ"
            },
            {
                question: "„Ç∑„É£„É≥„ÉàÂÅ¥„ÅßÈáç„Åü„ÅÑËç∑Áâ©„ÇíÊåÅ„Å§„Å®Ôºü",
                options: ["Ë°ÄÊµÅ„ÅåÊÇ™„Åè„Å™„Çã", "ËÖï„ÅåÈçõ„Åà„Çâ„Çå„Çã", "‰Ωï„ÇÇËµ∑„Åì„Çâ„Å™„ÅÑ"],
                correct: 0,
                explanation: "ÂúßËø´„Å´„Çà„ÇãË°ÄÊµÅ‰Ωé‰∏ã„ÅÆ„É™„Çπ„ÇØ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÈáç„Åü„ÅÑËç∑Áâ©„ÇíÊåÅ„Å§„Åì„Å®„Åß„Ç∑„É£„É≥„Éà„Å´Ë≤†ÊãÖ„Åå„Åã„Åã„Çä„ÄÅÈñâÂ°û„ÅÆÂéüÂõ†„Å®„Å™„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ"
            },
            {
                question: "„Ç∑„É£„É≥„Éà„ÇíÈï∑ÊåÅ„Å°„Åï„Åõ„ÇãÁøíÊÖ£„ÅØÔºü",
                options: ["„Åì„Åæ„ÇÅ„Å´„Çπ„É™„É´„Çí„ÉÅ„Çß„ÉÉ„ÇØ", "Ê∞ó„Å´„Åó„Å™„ÅÑ", "Âº∑„Åè„Åì„Åô„Çã"],
                correct: 0,
                explanation: "ÊØéÊó•„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„ÅåÊó©ÊúüÁô∫Ë¶ã„Å´„Å§„Å™„Åå„Çä„Åæ„Åô„ÄÇ„Çπ„É™„É´„ÅÆÁ¢∫Ë™ç„ÇíÁøíÊÖ£Âåñ„Åô„Çã„Åì„Å®„Åß„ÄÅÁï∞Â∏∏„ÇíÊó©Êúü„Å´Áô∫Ë¶ã„Åó„ÄÅÈÅ©Âàá„Å™ÂØæÂøú„ÅåÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô„ÄÇ"
            },
            {
                question: "Áã≠Á™Ñ„ÅÆÂàùÊúü„Çµ„Ç§„É≥„Å®„Åó„Å¶Ë™§„Çä„ÅØÔºü",
                options: ["ÈùôËÑàÂúß‰∏äÊòá", "Ë°ÄÊµÅ„ÅåÂº±„ÅÑ", "„Çπ„É™„É´„ÅåÂº∑„Åè„Å™„Çã"],
                correct: 2,
                explanation: "Áã≠Á™Ñ„Åß„ÅØ„Çπ„É™„É´„ÅØÂº±„Åè„Å™„Çã„ÅãÊ∂àÂ§±„Åó„Åæ„Åô„ÄÇ„Çπ„É™„É´„ÅåÂº∑„Åè„Å™„Çã„Åì„Å®„ÅØÁã≠Á™Ñ„ÅÆ„Çµ„Ç§„É≥„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„ÇÄ„Åó„ÇçÂº±„Åè„Å™„Å£„Åü„ÇäÊÑü„Åò„Å´„Åè„Åè„Å™„Çã„Åì„Å®„ÅåÂç±Èô∫‰ø°Âè∑„Åß„Åô„ÄÇ"
            },
            {
                question: "„Ç∑„É£„É≥„ÉàÂÅ¥„ÅÆËÖï„Å´ÊÄ™Êàë„Çí„Åó„Åü„ÇâÔºü",
                options: ["Ê∏ÖÊΩî„Å´„ÅóÁõ∏Ë´á", "ÊîæÁΩÆ", "Âº∑„Åè„Åó„Å∞„Çã"],
                correct: 0,
                explanation: "ÊÑüÊüì„ÇíÈò≤„Åê„Åü„ÇÅÊó©„ÇÅ„ÅÆÂØæÂøú„ÅåÈáçË¶Å„Åß„Åô„ÄÇÊÄ™Êàë„Çí„Åó„ÅüÂ†¥Âêà„ÅØÊ∏ÖÊΩî„Å´‰øù„Å°„ÄÅ„Åô„Åê„Å´ÂåªÁôÇ„Çπ„Çø„ÉÉ„Éï„Å´Áõ∏Ë´á„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ"
            },
            {
                question: "ÂØí„ÅÑÂ≠£ÁØÄ„ÅÆË°ÄÊµÅÁÆ°ÁêÜ„ÅØÔºü",
                options: ["ÂÜ∑„ÇÑ„Åï„Å™„ÅÑ", "Ê∞¥„ÅßÂÜ∑„ÇÑ„Åô", "Ë°ÄÊµÅ„ÇíÊ≠¢„ÇÅ„Çã"],
                correct: 0,
                explanation: "ÂÜ∑„Åà„ÅØË°ÄÊµÅ„ÇíÊÇ™Âåñ„Åï„ÅõÈñâÂ°û„É™„Çπ„ÇØ„Å´„Å™„Çä„Åæ„Åô„ÄÇÂØí„ÅÑÂ≠£ÁØÄ„ÅØËÖï„ÇíÊ∏©„Åã„Åè‰øù„Å°„ÄÅÊÄ•ÊøÄ„Å™Ê∏©Â∫¶Â§âÂåñ„ÇíÈÅø„Åë„Çã„Åì„Å®„ÅåÂ§ßÂàá„Åß„Åô„ÄÇ"
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let answered = false;
        let selectedQuestions = [];
        let shuffledOptionsData = [];

        // ÈÖçÂàó„Çí„Ç∑„É£„ÉÉ„Éï„É´„Åô„ÇãÈñ¢Êï∞
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // 10Âïè„ÅÆ‰∏≠„Åã„Çâ„É©„É≥„ÉÄ„É†„Å´5Âïè„ÇíÈÅ∏Êäû
        function selectRandomQuestions() {
            const shuffled = shuffleArray(quizData);
            selectedQuestions = shuffled.slice(0, 5);
        }

        function loadQuestion() {
            answered = false;
            const quizContainer = document.getElementById('quizContainer');
            const data = selectedQuestions[currentQuestion];
            
            const progress = ((currentQuestion + 1) / selectedQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            // ÈÅ∏ÊäûËÇ¢„Çí„Ç∑„É£„ÉÉ„Éï„É´ÔºàÊ≠£Ëß£„ÇíËøΩË∑°Ôºâ
            shuffledOptionsData = shuffleArray(data.options.map((option, index) => ({
                text: option,
                isCorrect: index === data.correct
            })));

            quizContainer.innerHTML = `
                <div class="question-number">ÂïèÈ°å ${currentQuestion + 1} / ${selectedQuestions.length}</div>
                <div class="question-text">${data.question}</div>
                <div class="options" id="options">
                    ${shuffledOptionsData.map((option, index) => `
                        <div class="option" onclick="selectOption(${index})" data-index="${index}" data-correct="${option.isCorrect}">
                            ${option.text}
                        </div>
                    `).join('')}
                </div>
                <div class="explanation" id="explanation">
                    <div class="explanation-title">üìù Ëß£Ë™¨</div>
                    <div class="explanation-text">${data.explanation}</div>
                </div>
            `;

            document.getElementById('nextButton').style.display = 'none';
        }

        function selectOption(selectedIndex) {
            if (answered) return;
            
            answered = true;
            const options = document.querySelectorAll('.option');
            const isCorrect = shuffledOptionsData[selectedIndex].isCorrect;
            
            options.forEach((option, index) => {
                option.classList.add('disabled');
                if (shuffledOptionsData[index].isCorrect) {
                    option.classList.add('correct');
                } else if (index === selectedIndex) {
                    option.classList.add('incorrect');
                }
            });

            if (isCorrect) {
                score++;
            }

            document.getElementById('explanation').classList.add('show');
            
            const nextButton = document.getElementById('nextButton');
            nextButton.style.display = 'block';
            nextButton.textContent = currentQuestion < selectedQuestions.length - 1 ? 'Ê¨°„ÅÆÂïèÈ°å„Å∏' : 'ÁµêÊûú„ÇíË¶ã„Çã';
            nextButton.disabled = false;
            nextButton.onclick = nextQuestion;
        }

        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion < selectedQuestions.length) {
                loadQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            const quizContainer = document.getElementById('quizContainer');
            const resultContainer = document.getElementById('resultContainer');
            const percentage = (score / selectedQuestions.length) * 100;
            
            let emoji = 'üéâ';
            let message = 'Á¥†Êô¥„Çâ„Åó„ÅÑ!';
            
            if (percentage === 100) {
                emoji = 'üèÜ';
                message = '„Éë„Éº„Éï„Çß„ÇØ„Éà!';
            } else if (percentage >= 80) {
                emoji = 'üéâ';
                message = 'Á¥†Êô¥„Çâ„Åó„ÅÑ!';
            } else if (percentage >= 60) {
                emoji = 'üëç';
                message = '„Çà„Åè„Åß„Åç„Åæ„Åó„Åü!';
            } else {
                emoji = 'üìö';
                message = '„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÉÅ„É£„É¨„É≥„Ç∏!';
            }

            quizContainer.style.display = 'none';
            resultContainer.innerHTML = `
                <div class="emoji">${emoji}</div>
                <div class="result-message">${message}</div>
                <div class="score">${score} / ${selectedQuestions.length}</div>
                <div class="result-detail">Ê≠£Á≠îÁéá: ${percentage.toFixed(0)}%</div>
                <button class="restart-button" onclick="restartQuiz()">„ÇÇ„ÅÜ‰∏ÄÂ∫¶ÊåëÊà¶„Åô„Çã</button>
            `;
            resultContainer.classList.add('show');
            document.getElementById('nextButton').style.display = 'none';
        }

        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            answered = false;
            selectRandomQuestions(); // Êñ∞„Åó„ÅÑÂïèÈ°å„Çí„É©„É≥„ÉÄ„É†„Å´ÈÅ∏Êäû
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('resultContainer').classList.remove('show');
            loadQuestion();
        }

        // ÂàùÊúüÂåñÔºö„É©„É≥„ÉÄ„É†„Å´5Âïè„ÇíÈÅ∏Êäû„Åó„Å¶„ÇØ„Ç§„Ç∫„ÇíÈñãÂßã
        selectRandomQuestions();
        loadQuestion();
    </script>
</body>
</html>
