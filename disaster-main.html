<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>災害情報ポータル</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="theme-disaster">
    <div class="container">
        <header>
            <h1>災害情報ポータル</h1>
        </header>

        <!-- 透析状況（アコーディオン） -->
        <section id="dialysis-status" class="collapsible-section is-open" style="max-width:800px; margin:0 auto 2rem;">
            <div class="collapsible-header-wrapper" onclick="this.parentElement.classList.toggle('is-open')">
                <span class="collapse-hint">▼ タップで開閉</span>
                <h2>現在の透析状況</h2>
            </div>
            <div class="collapsible-content">
                <div class="status-container">
                    <div class="status-item"><h3>本院</h3><p class="status-ok">透析可</p></div>
                    <div class="status-item"><h3>なかもず分院</h3><p class="status-ng">透析不可</p></div>
                    <div class="status-item"><h3>三国ケ丘分院</h3><p class="status-ok">透析可</p></div>
                </div>
            </div>
        </section>

        <nav class="page-nav">
            <!-- JSでタブ切り替えする場合の簡易実装 -->
            <button class="nav-button active" onclick="switchTab('info')">基本情報</button>
            <button class="nav-button" onclick="switchTab('checklist')">備蓄リスト</button>
            <button class="nav-button" onclick="switchTab('evacuation')">避難手段</button>
            <button class="nav-button" onclick="switchTab('shelter')">ハザード<br>マップ</button>
        </nav>
        
        <main id="content-area">
            <!-- 基本情報 -->
            <section id="info" class="content-section active">
                <h3>防災の基本5つのポイント</h3>
                <div class="prevention-grid">
                    <div class="prevention-card">
                        <div class="prevention-card-img-wrapper">
                            <!-- パス修正: files/disaster/ -->
                            <img src="files/disaster/Check the hazard map.png" alt="ハザードマップ">
                        </div>
                        <div class="prevention-card-body">
                            <h3>ハザードマップの確認</h3>
                            <p>避難場所や経路を家族で共有しましょう。</p>
                        </div>
                    </div>
                    <div class="prevention-card">
                        <div class="prevention-card-img-wrapper">
                            <img src="files/disaster/Prepare an emergency bag.png" alt="非常持ち出し袋">
                        </div>
                        <div class="prevention-card-body">
                            <h3>非常用持ち出し袋</h3>
                            <p>最低限必要なものをリュックに。</p>
                        </div>
                    </div>
                    <div class="prevention-card">
                        <div class="prevention-card-img-wrapper">
                            <img src="files/disaster/Home stockpiles.png" alt="備蓄">
                        </div>
                        <div class="prevention-card-body">
                            <h3>家庭での備蓄</h3>
                            <p>水と食料を最低3日分備蓄しましょう。</p>
                        </div>
                    </div>
                    <div class="prevention-card">
                        <div class="prevention-card-img-wrapper">
                            <img src="files/disaster/fixing furniture.png" alt="家具固定">
                        </div>
                        <div class="prevention-card-body">
                            <h3>家具の固定</h3>
                            <p>転倒防止グッズで家具を固定しましょう。</p>
                        </div>
                    </div>
                </div>

                <!-- PDF表示 -->
                <div class="pdf-collapsible">
                    <div class="pdf-collapsible-header" onclick="this.parentElement.classList.toggle('is-open'); loadPdf();">
                        <span>📖 防災ハンドブックを見る</span>
                        <span>▼</span>
                    </div>
                    <div class="pdf-collapsible-content">
                        <div class="pdf-collapsible-body">
                            <p style="text-align:center; margin-bottom:1rem;">
                                <!-- スマホ用リンク -->
                                <a href="files/pdf/disaster-guide-book.pdf" target="_blank" class="back-to-portal-button" style="background:#007bff;">PDFを開く (スマホ用)</a>
                            </p>
                            <!-- PC用埋め込み -->
                            <embed id="pdfEmbed" src="" type="application/pdf" class="pdf-embed-desktop">
                        </div>
                    </div>
                </div>
            </section>

            <!-- 他のセクション (省略なしで書くなら前回の内容を移植) -->
            <section id="checklist" class="content-section">
                <h3>透析患者さまの備蓄リスト</h3>
                <p>（ここにリストが入ります）</p>
            </section>
            
            <section id="evacuation" class="content-section">
                <h3>避難手段</h3>
                <p>（ここにイーバックチェアなどの説明が入ります）</p>
            </section>
            
            <section id="shelter" class="content-section">
                <h3>ハザードマップ</h3>
                <p>（リンク集などが入ります）</p>
            </section>
        </main>
        
        <a href="index.html" class="back-to-portal-button">トップへ戻る</a>
        <footer>
            <p><small>&copy; 2025 医療法人 好輝会 梶本クリニック</small></p>
        </footer>
    </div>

    <script>
        function switchTab(id){
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-button').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            // ボタンのアクティブ化簡易ロジック
            event.target.classList.add('active');
        }

        let pdfLoaded = false;
        function loadPdf(){
            if(!pdfLoaded){
                // パス修正: files/pdf/
                document.getElementById('pdfEmbed').src = "files/pdf/disaster-guide-book.pdf";
                pdfLoaded = true;
            }
        }
    </script>
</body>
</html>